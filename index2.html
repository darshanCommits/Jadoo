<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="hehe">
      <p>067</p>
    </div>
  </body>

  <script>
    const hehe = document.querySelector(".hehe");
    const bruh = document.querySelector("p");
    splitToSpan();

    function splitToSpan() {
      const freagment = document.createDocumentFragment();
      for (let i = 0; i < bruh.textContent.length; i++) {
        const span = document.createElement("span");
        let num = bruh.textContent.charAt(i);

        span.innerText = num;
        span.classList.add(num);
        span.classList.add("fancy");

        freagment.appendChild(span);
      }

      bruh.textContent = "";

      requestAnimationFrame(() => {
        bruh.appendChild(freagment);
        // fancy animation

        const fancyElem = document.querySelectorAll("span");

        console.log(fancyElem);
        fancyElem.forEach((x) => {
          const fancyNum = [...x.classList][0];
          for (let i = 0; i <= fancyNum; i++) {
            console.log(i);
            setTimeout(() => {
              x.textContent = i;
            }, 10);
          }
        });
      });
    }

    // console.log(fancyElem);
  </script>
</html>
